; FOME Vehicle Profile TunerStudio Configuration
; Add this to your .ini file

[VehicleProfile]
; Main vehicle type selector
vehicleType = bits, U08, 0, [0:3], "Generic", "Mazda RX8 S1", "Mazda Miata NC", "BMW E46", "Custom"

; Enable/disable body electronics
enableBodyCAN = bits, U08, 1, [0:0], "No", "Yes"
enableImmobilizer = bits, U08, 1, [1:1], "No", "Yes"
enableABSDSC = bits, U08, 1, [2:2], "No", "Yes"
enablePowerSteering = bits, U08, 1, [3:3], "No", "Yes"

; CAN timing
bodyCAN_interval = scalar, U16, 2, "ms", 1.0, 0.0, 50, 500, 0

[RX8Settings]
; RX8-specific settings
rx8_rpmMultiplier = scalar, U16, 4, "", 0.01, 0.0, 3.0, 5.0, 2
rx8_speedOffset = scalar, U16, 6, "", 1.0, 0.0, 5000, 15000, 0
rx8_odometerDivisor = scalar, U16, 8, "counts/mile", 1.0, 0.0, 1000, 10000, 0
rx8_absVariant = bits, U08, 10, [0:2], "Type 2", "Type 3", "Type 4"

; Warning light overrides (for testing)
test_checkEngineMIL = bits, U08, 11, [0:0], "Off", "On"
test_lowCoolantMIL = bits, U08, 11, [1:1], "Off", "On"
test_batteryMIL = bits, U08, 11, [2:2], "Off", "On"
test_oilPressureMIL = bits, U08, 11, [3:3], "Off", "On"

[XCPSettings]
; XCP/CCP Protocol settings
enableXCP = bits, U08, 20, [0:0], "No", "Yes"
xcpRxCanID = scalar, U16, 21, "", 1.0, 0.0, 0, 2047, 0
xcpTxCanID = scalar, U16, 23, "", 1.0, 0.0, 0, 2047, 0

[Menu]
; Add menu entries for vehicle profile settings

menu = "&Vehicle"
    subMenu = vehicleProfileSettings, "Vehicle Profile"
    subMenu = rx8Settings, "RX8 Settings", { vehicleType == 1 }
    subMenu = xcpSettings, "XCP/CCP Settings"

[Dialog]
; Vehicle profile main dialog
dialog = vehicleProfileSettings, "Vehicle Profile Settings"
    field = "Vehicle Type", vehicleType
    field = "Enable Body CAN", enableBodyCAN
    field = "Enable Immobilizer", enableImmobilizer
    field = "Enable ABS/DSC", enableABSDSC
    field = "Enable Power Steering", enablePowerSteering
    field = ""
    field = "Body CAN Interval", bodyCAN_interval

; RX8-specific dialog
dialog = rx8Settings, "RX8 Specific Settings"
    field = "RPM Multiplier", rx8_rpmMultiplier
    field = "Speed Offset", rx8_speedOffset
    field = "Odometer Divisor", rx8_odometerDivisor
    field = "ABS Variant", rx8_absVariant
    field = ""
    field = "---- Test Warning Lights ----"
    field = "Check Engine", test_checkEngineMIL
    field = "Low Coolant", test_lowCoolantMIL
    field = "Battery", test_batteryMIL
    field = "Oil Pressure", test_oilPressureMIL

; XCP settings dialog
dialog = xcpSettings, "XCP/CCP Protocol Settings"
    field = "Enable XCP", enableXCP
    field = "XCP RX CAN ID", xcpRxCanID
    field = "XCP TX CAN ID", xcpTxCanID

[OutputChannels]
; Body electronics output channels for gauges/logging

; From vehicle profile
bodyRPM = scalar, U16, 100, "rpm", 1, 0
bodySpeed = scalar, U16, 102, "km/h", 1, 0
bodyCoolantTemp = scalar, S08, 104, "C", 1, 0
bodyThrottle = scalar, U08, 105, "%", 1, 0
bodyOilPressure = scalar, U16, 106, "kPa", 1, 0
bodyBattery = scalar, U16, 108, "mV", 1, 0

; Wheel speeds (from RX8 0x4B1)
wheelSpeedFL = scalar, U16, 110, "km/h", 0.01, 0
wheelSpeedFR = scalar, U16, 112, "km/h", 0.01, 0
wheelSpeedRL = scalar, U16, 114, "km/h", 0.01, 0
wheelSpeedRR = scalar, U16, 116, "km/h", 0.01, 0

; Warning light status
warningCheckEngine = bits, U08, 118, [0:0]
warningLowCoolant = bits, U08, 118, [1:1]
warningBattery = bits, U08, 118, [2:2]
warningOilPressure = bits, U08, 118, [3:3]
warningABS = bits, U08, 118, [4:4]
warningDSC = bits, U08, 118, [5:5]

; Odometer
odometerTotal = scalar, U32, 120, "miles", 0.000241546, 0
odometerTrip = scalar, U32, 124, "miles", 0.000241546, 0

[GaugeConfigurations]
; Gauge configurations for dashboard display

gaugeCategory = "Vehicle Profile"

bodyRPMGauge = bodyRPM, "Engine RPM", "rpm", 0, 10000, 0, 500, 8000, 9000, 0, 0
bodySpeedGauge = bodySpeed, "Vehicle Speed", "km/h", 0, 300, 0, 0, 200, 250, 0, 0
bodyCoolantGauge = bodyCoolantTemp, "Coolant Temp", "C", -40, 150, -40, 0, 100, 120, 0, 0
bodyThrottleGauge = bodyThrottle, "Throttle", "%", 0, 100, 0, 0, 100, 100, 0, 0
